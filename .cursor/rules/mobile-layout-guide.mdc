---
description: Quick reference for mobile layout patterns. For comprehensive mobile UX guidelines, see the ios-mobile-first skill (.cursor/skills/ios-mobile-first/SKILL.md).
alwaysApply: false
---
# AI Matrx Mobile Layout Quick Reference

> **ðŸ“± For comprehensive mobile UX guidelines:** See `.cursor/skills/ios-mobile-first/SKILL.md`
> 
> This file provides quick patterns. The skill covers responsive components, touch targets, iOS-specific optimizations, and complete mobile UX standards.

## Essential Utilities

### Dynamic Viewport Units
```css
.h-dvh          /* height: 100dvh */
.min-h-dvh      /* min-height: 100dvh */
.max-h-dvh      /* max-height: 100dvh */
```

### Safe Area Insets
```css
.pb-safe        /* padding-bottom: env(safe-area-inset-bottom, 1rem) */
.mb-safe        /* margin-bottom: env(safe-area-inset-bottom, 1rem) */
```

### Header Height Variable
```css
--header-height: 2.5rem    /* Unified for both mobile and desktop */
```

## Common Patterns

### Full-Height Page (Below Header)
```tsx
<div className="h-[calc(100dvh-var(--header-height))] flex flex-col overflow-hidden">
  <div className="flex-1 overflow-y-auto pb-safe">
    {/* Scrollable content */}
  </div>
</div>
```

### Fixed Bottom Element
```tsx
<div className="fixed bottom-0 left-0 right-0 pb-safe">
  {/* Always use pb-safe */}
</div>
```

### iOS Input Zoom Prevention
```tsx
<Input 
  className="text-base"
  style={{ fontSize: '16px' }}
/>
```

## CRITICAL: Dialog/Drawer Pattern (Copy-Paste Ready)

**ALWAYS use this pattern for ANY modal/dialog:**

```tsx
import { useIsMobile } from "@/hooks/use-mobile";
import { Dialog, DialogContent, DialogHeader, DialogTitle, DialogTrigger } from "@/components/ui/dialog";
import { Drawer, DrawerContent, DrawerTitle } from "@/components/ui/drawer";

function MyComponent() {
  const isMobile = useIsMobile();
  const [isOpen, setIsOpen] = useState(false);
  
  if (isMobile) {
    return (
      <Drawer open={isOpen} onOpenChange={setIsOpen}>
        <DrawerContent className="max-h-[85dvh]">
          <DrawerTitle className="sr-only">Title</DrawerTitle>
          <div className="flex-1 overflow-y-auto overscroll-contain pb-safe">
            {/* Your content here */}
          </div>
        </DrawerContent>
      </Drawer>
    );
  }
  
  return (
    <Dialog open={isOpen} onOpenChange={setIsOpen}>
      <DialogTrigger asChild>
        <Button>Open</Button>
      </DialogTrigger>
      <DialogContent className="max-w-[95vw] w-full lg:max-w-[1400px] max-h-[90dvh] overflow-hidden flex flex-col">
        <DialogHeader><DialogTitle>Title</DialogTitle></DialogHeader>
        <div className="flex-1 overflow-y-auto">{/* Your content */}</div>
      </DialogContent>
    </Dialog>
  );
}
```

## CRITICAL: Tabs â†’ Vertical Stack Pattern (Copy-Paste Ready)

**NEVER use tabs on mobile. ALWAYS use this pattern:**

```tsx
import { useIsMobile } from "@/hooks/use-mobile";
import { Tabs, TabsContent, TabsList, TabsTrigger } from "@/components/ui/tabs";

function MyForm() {
  const isMobile = useIsMobile();
  const [activeTab, setActiveTab] = useState("section1");
  
  if (isMobile) {
    return (
      <div className="space-y-6 p-4">
        {/* Section 1 */}
        <div className="space-y-4">
          <h3 className="text-sm font-medium flex items-center gap-2">
            <div className="h-6 w-1 bg-primary rounded-full" />
            Section 1
          </h3>
          {/* Section 1 content */}
        </div>
        
        {/* Section 2 */}
        <div className="space-y-4 pt-4 border-t border-border">
          <h3 className="text-sm font-medium flex items-center gap-2">
            <div className="h-6 w-1 bg-primary rounded-full" />
            Section 2
          </h3>
          {/* Section 2 content */}
        </div>
        
        {/* Actions */}
        <div className="flex flex-col gap-3 pt-4 border-t border-border pb-safe">
          <Button className="w-full">Save</Button>
          <Button variant="outline" className="w-full">Cancel</Button>
        </div>
      </div>
    );
  }
  
  return (
    <Tabs value={activeTab} onValueChange={setActiveTab}>
      <TabsList>
        <TabsTrigger value="section1">Section 1</TabsTrigger>
        <TabsTrigger value="section2">Section 2</TabsTrigger>
      </TabsList>
      <TabsContent value="section1">{/* Section 1 content */}</TabsContent>
      <TabsContent value="section2">{/* Section 2 content */}</TabsContent>
    </Tabs>
  );
}
```

## Mandatory Rules

1. **Always `dvh`** â†’ Never `vh`, `h-screen`, or `min-h-screen`
2. **Always `pb-safe`** â†’ On all fixed bottom elements
3. **Always `--header-height`** â†’ Never hardcode heights
4. **Always 16px inputs** â†’ Prevents iOS auto-zoom
5. **ALWAYS Drawer on mobile** â†’ NEVER Dialog (use `useIsMobile()` to conditionally render)
6. **NEVER tabs on mobile** â†’ Stack sections vertically instead
7. **Avoid nested scrolling** â†’ Single scroll area per view
8. **Always test on iOS Safari** â†’ Real device, not just DevTools

---

**For detailed guidelines including responsive patterns, touch targets, dialogs, and iOS-specific optimizations, refer to the ios-mobile-first skill.**