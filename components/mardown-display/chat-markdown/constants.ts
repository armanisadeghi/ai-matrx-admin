export const thinkingFragments = [
    // Step 0: ### Request Analysis
    [
        "Analyzing your input...",
        "Decoding your message...",
        "Understanding your request...",
        "Interpreting what you've said...",
        "Breaking down your query...",
        "Let me see what you're asking...",
        "Taking a closer look at your words...",
        "Processing your input data...",
        "Evaluating your statement...",
        "Getting to the heart of your question...",
        "Deciphering your cryptic message... just kidding!",
        "Input received. Commencing analysis.",
        "Let me put on my thinking cap for this one.",
        "Analyzing... please don't tell me it's another 'why is the sky blue?'",
        "Initiating deep analysis mode.",
    ],
    // Step 1: Considering context
    [
        "Considering the context...",
        "Looking at the bigger picture...",
        "Taking into account previous interactions...",
        "Weighing the surrounding information...",
        "Factoring in the background...",
        "Context is key, so let's see...",
        "Putting your input in perspective...",
        "Considering all angles...",
        "Contextualizing your query...",
        "Seeing how this fits into the conversation...",
        "Context is everything, right?",
        "Taking a step back to see the whole picture.",
        "Considering the context... it's like detective work.",
        "Contextual analysis in progress.",
        "Looking at the conversation history... interesting.",
    ],
    // Step 2: Generating draft
    [
        "Generating a draft response...",
        "Sketching out some ideas...",
        "Putting together a preliminary answer...",
        "Crafting an initial reply...",
        "Formulating a rough draft...",
        "Brainstorming possible solutions...",
        "Assembling the first version...",
        "Creating a starting point...",
        "Generating initial thoughts...",
        "Laying the groundwork for an answer...",
        "Drafting a response... hope it's not too drafty!",
        "Generating ideas faster than a caffeinated squirrel.",
        "Putting pen to paper... metaphorically speaking.",
        "Creating a draft that's rough around the edges.",
        "Draft in progress... stay tuned.",
    ],
    // Step 3: Refining steps
    [
        "Refining the steps...",
        "Polishing the process...",
        "Fine-tuning the approach...",
        "Improving the method...",
        "Sharpening the strategy...",
        "Enhancing the plan...",
        "Optimizing the workflow...",
        "Smoothing out the details...",
        "Perfecting the sequence...",
        "Making the steps more efficient...",
        "Refining like a fine wine... or a fine AI.",
        "Polishing the steps until they shine.",
        "Making sure the process is smoother than a jazz solo.",
        "Refinement in action.",
        "Tweaking and tuning for perfection.",
    ],
    // Step 4: Checking constraints
    [
        "Checking constraints...",
        "Ensuring all rules are followed...",
        "Verifying limitations...",
        "Making sure we're within bounds...",
        "Confirming compliance with guidelines...",
        "Double-checking restrictions...",
        "Assessing the boundaries...",
        "Validating against constraints...",
        "Ensuring feasibility...",
        "Checking for any roadblocks...",
        "Constraints? More like guidelines, am I right? Just kidding, checking them now.",
        "Ensuring we're playing by the rules.",
        "Checking the fine print.",
        "Making sure we don't break any AI laws.",
        "Constraint verification underway.",
    ],
    // Step 5: Structuring thoughts
    [
        "Structuring thoughts...",
        "Organizing ideas...",
        "Arranging the response...",
        "Putting thoughts in order...",
        "Building a coherent structure...",
        "Shaping the answer...",
        "Forming a logical flow...",
        "Constructing the narrative...",
        "Assembling the pieces...",
        "Creating a clear framework...",
        "Organizing thoughts like a librarian on a mission.",
        "Structuring the response for maximum clarity.",
        "Putting ideas in their proper places.",
        "Creating a thought architecture.",
        "Arranging the answer like a puzzle.",
    ],
    // Step 6: Cross-referencing
    [
        "Cross-referencing information...",
        "Checking against known data...",
        "Comparing with existing knowledge...",
        "Verifying with sources...",
        "Looking for corroboration...",
        "Ensuring consistency...",
        "Matching with relevant facts...",
        "Consulting the knowledge base...",
        "Cross-checking details...",
        "Seeking supporting evidence...",
        "Cross-referencing like a boss.",
        "Checking the facts, because accuracy matters.",
        "Diving into the data pool.",
        "Cross-referencing with the speed of light.",
        "Ensuring everything adds up.",
    ],
    // Step 7: Finalizing chain
    [
        "Finalizing the chain of thought...",
        "Putting the finishing touches...",
        "Wrapping up the response...",
        "Completing the answer...",
        "Polishing the final draft...",
        "Ensuring everything ties together...",
        "Making sure it's ready for you...",
        "Double-checking for accuracy...",
        "Preparing to present the solution...",
        "Almost there, just a moment...",
        "Finalizing... almost as satisfying as hitting 'send' on an email.",
        "Putting the final touches, like an artist signing their work.",
        "Wrapping it up with a bow.",
        "Making sure it's perfect before it reaches you.",
        "Final checks complete. Ready to roll.",
    ],
];

export const aiProcessText = {
  requestAnalysis: [
    "Analyzing your input...",
    "Processing your request...",
    "Examining your query...",
    "Interpreting your message...",
    "Evaluating your request parameters...",
    "Parsing your input data...",
    "Conducting initial analysis...",
    "Identifying key components of your request...",
    "Assessing the scope of your query...",
    "Determining the nature of your request...",
    "Systematically reviewing your input...",
    "Extracting essential elements from your query...",
    "Categorizing the components of your request...",
    "Structuring your query for optimal processing...",
    "Performing preliminary analysis...",
    "Breaking down your request into manageable parts...",
    "Deciphering your cryptic message... just kidding!",
    "Let me put on my thinking cap for this one.",
    "Analyzing... please hold while I process this.",
    "Running your input through my neural pathways...",
  ],
  missingInformation: [
    "Identifying potential information gaps...",
    "Assessing completeness of provided data...",
    "Determining if additional context is required...",
    "Evaluating information sufficiency...",
    "Checking for necessary contextual elements...",
    "Verifying I have all required parameters...",
    "Scanning for critical missing variables...",
    "Reviewing the completeness of your query...",
    "Analyzing whether supplementary information is needed...",
    "Examining if clarification is necessary...",
    "Confirming data completeness for accurate processing...",
    "Determining if essential details are absent...",
    "Assessing if I have adequate information to proceed...",
    "Hmm, feels like there's a piece of the puzzle missing...",
    "Hold on, I might need a bit more to work with...",
  ],
  reasonableAssumptions: [
    "Establishing reasonable parameters based on available information...",
    "Formulating evidence-based assumptions...",
    "Deriving logical inferences from provided data...",
    "Establishing working hypotheses where information is limited...",
    "Applying standard assumptions within this context...",
    "Making informed judgments where details are unspecified...",
    "Drawing reasonable conclusions from context...",
    "Utilizing domain knowledge to fill information gaps...",
    "Implementing logical assumptions where appropriate...",
    "Establishing baseline parameters for processing...",
    "Determining rational defaults based on your query...",
    "Inferring contextual elements from available data...",
    "Filling in the blanks with some safe bets...",
    "Let's see what I can reasonably infer here...",
  ],
  logicalSteps: [
    "Developing a structured approach...",
    "Establishing a systematic methodology...",
    "Formulating a sequential analysis framework...",
    "Creating a logical progression for addressing your query...",
    "Organizing analytical steps in optimal sequence...",
    "Mapping the solution pathway...",
    "Constructing a hierarchical problem-solving structure...",
    "Defining process parameters and execution order...",
    "Establishing procedural framework for analysis...",
    "Developing a step-by-step analytical approach...",
    "Determining optimal processing sequence...",
    "Structuring response components in logical order...",
    "Breaking this down into bite-sized pieces...",
    "Walking through this one step at a time...",
    "Building my response brick by brick...",
  ],
  potentialPitfalls: [
    "Identifying potential analytical challenges...",
    "Recognizing possible interpretation errors...",
    "Assessing risk factors in analysis process...",
    "Examining potential sources of misinterpretation...",
    "Evaluating possible logical fallacies to avoid...",
    "Determining areas requiring additional verification...",
    "Identifying ambiguities that could affect accuracy...",
    "Recognizing limitations in available information...",
    "Considering alternative interpretations to prevent bias...",
    "Checking for contextual nuances that affect meaning...",
    "Evaluating edge cases that may impact analysis...",
    "Identifying assumptions that require validation...",
    "Watching out for common misunderstandings...",
    "Double-checking I don't go off track...",
    "Making sure I don't miss the obvious...",
  ],
  readyToRespond: [
    "Analysis complete, preparing response...",
    "Processing finalized, generating answer...",
    "Information synthesis complete, formulating response...",
    "Analysis framework established, proceeding to answer...",
    "Parameters verified, moving to response phase...",
    "Information processing complete, generating solution...",
    "All factors considered, preparing comprehensive response...",
    "Analysis concluded, formulating optimal answer...",
    "Processing complete, initiating response generation...",
    "Information assessment finalized, preparing response...",
    "Query fully analyzed, proceeding with answer...",
    "Analysis complete, synthesizing response elements...",
    "Evaluation finalized, generating appropriate response...",
    "All systems goâ€”I've got this!",
    "Fully equipped to tackle your request...",
  ],
  preparingQuestionsToAsk: [
    "Formulating clarification queries...",
    "Developing targeted follow-up questions...",
    "Identifying specific information requirements...",
    "Preparing precise queries to address information gaps...",
    "Constructing questions to resolve ambiguities...",
    "Developing inquiries to enhance context understanding...",
    "Creating structured questions for additional data...",
    "Formulating queries to verify assumptions...",
    "Developing targeted questions to complete information set...",
    "Preparing inquiries to address critical unknowns...",
    "Designing questions to fill identified knowledge gaps...",
    "Constructing queries to resolve contextual uncertainties...",
    "Formulating questions to establish necessary parameters...",
    "Getting ready to probe for details...",
    "Thinking through what I need to ask next...",
  ],
};


export const tagMappings: Record<string, RegExp> = {
  // Request Analysis - matches variations like "Analysis", "Analyzing", "Initial Analysis", etc.
  requestAnalysis: /###\s*(Request|Initial|Input|Query)?\s*(Analysis|Analyzing|Examining|Processing|Understanding|Interpreting)\b.*?:/i,
  
  // Missing Information - matches variations like "Information Missing", "Missing Context", etc.
  missingInformation: /###\s*(Missing|Lacking|Absent|Needed|Required|Additional)?\s*(Information|Context|Data|Details|Input)\b.*?:/i,
  
  // Reasonable Assumptions - matches variations including "Assumptions", "What I can assume", etc.
  reasonableAssumptions: /###\s*(Reasonable|Logical|Safe|Working|Valid)?\s*(Assumptions|Inferences|Presumptions|Suppositions)\b.*?:/i,
  
  // Logical Steps - matches variations including "Plan", "Approach", "Method", etc.
  logicalSteps: /###\s*(Logical|Systematic|Step-by-Step|Sequential|Methodical)?\s*(Steps|Plan|Approach|Process|Method|Pathway|Framework)\b.*?:/i,
  
  // Potential Pitfalls - matches variations including "Risks", "Challenges", "Issues to Avoid", etc.
  potentialPitfalls: /###\s*(Potential|Possible|Likely|Common)?\s*(Pitfalls|Mistakes|Errors|Risks|Challenges|Issues|Traps)\b.*?:/i,
  
  // Ready To Respond - matches variations of readiness statements
  readyToRespond: /###\s*(I\s*(have|possess)\s*(everything|all|sufficient)\s*(I\s*need|necessary|required)|Ready\s*to\s*(respond|answer|proceed)|Analysis\s*complete|Processing\s*complete)\b.*?[.:]?/i,
  
  // Preparing Questions - matches variations of needing more information
  preparingQuestionsToAsk: /###\s*(I\s*(am|need|require)\s*(missing|lacking|seeking)\s*(critical|important|additional|more|further)\s*(information|details|context)|Need\s*to\s*ask|Questions\s*to\s*ask|Further\s*clarification\s*needed)\b.*?[.:]?/i
};

// Helper function to get a random element from an array
export function getRandomElement<T>(array: T[]): T {
  return array[Math.floor(Math.random() * array.length)];
}

// Function to identify tag type and return a random display text
export function getThinkingDisplayText(text: string): string | null {
  for (const [tagType, regex] of Object.entries(tagMappings)) {
    if (regex.test(text)) {
      // Return a random text from the corresponding array in aiProcessText
      if (aiProcessText[tagType as keyof typeof aiProcessText]) {
        return getRandomElement(aiProcessText[tagType as keyof typeof aiProcessText]);
      }
      return null;
    }
  }
  return null;
}

// Original function kept for backward compatibility
export function identifyTagType(text: string): string | null {
  for (const [tagType, regex] of Object.entries(tagMappings)) {
    if (regex.test(text)) {
      return tagType;
    }
  }
  return null;
}

